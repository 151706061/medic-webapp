<div class="content-pane">

  <div class="col-sm-8 item-content empty-selection" ng-show="loadingContent">
    <div>
      <div class="loader"></div>
    </div>
  </div>

  <div class="col-sm-8 item-content empty-selection" ng-show="!selected && !loadingContent">
    <div>{{'No contact selected' | translate}}</div>
  </div>

  <div class="col-sm-8 item-content item-body" ng-show="selected && !loadingContent">
    <div>
      <div class="status">
        <span class="mm-badge mm-badge-round">
          <span class="fa" ng-class="selectedSchema().badge"></span>
        </span>
      </div>

      <div class="body">
        <h2>{{titleFor(selected)}}</h2>
        <h5>{{'contact.type.' + selected.type | translate}}</h5>
        <ul>
          <li ng-repeat="(name, conf) in selectedSchemaNormalFields()">
            <label>{{selected.type + '.field.' + name | translate}}</label>
            <p>
              <span ng-if="conf.type === 'phone'"><a href="tel:{{selected[name]}}">{{selected[name]}}</a></span>
              <span ng-if="conf.type.indexOf('db:') === 0"><a ng-click="select(selected[name]._id)">{{titleFor(selected[name])}}</a></span>
              <span ng-if="conf.type !== 'phone' && conf.type.indexOf('db:') !== 0">{{selected[name]}}</span>
            </p>
          </li>
          <li ng-repeat="parent in selected.parents">
            <label>{{'contact.type.' + parent.type | translate}}</label>
            <p><a ng-click="select(parent._id)">{{titleFor(parent)}}</a></p>
          </li>
        </ul>
      </div>

      <div class="body" ng-if="selected.children.length">
        <h2>{{selected.type + '.field.children' | translate}}</h2>
        <ul>
          <li class="row" ng-repeat="child in selected.children">
            <div class="col-sm-4">
              <a ng-click="select(child.doc._id)">{{titleFor(child.doc)}}</a>
            </div>
            <div class="col-sm-4">
              {{titleFor(child.doc.contact)}}
            </div>
            <div class="col-sm-4">
              {{child.doc.contact.phone}}
            </div>
          </li>
        </ul>
      </div>

      <div class="body" ng-if="selected.contactFor.length">
        <h2>{{'Primary Contact For' | translate}}</h2>
        <ul>
          <li class="row" ng-repeat="place in selected.contactFor">
            <div class="col-sm-4">
              <a ng-click="select(place.doc._id)">{{titleFor(place.doc)}}</a>
            </div>
            <div class="col-sm-8">
              {{place.doc.parent | clinic}}
            </div>
          </li>
        </ul>
      </div>

    </div>
  </div>
</div>
